<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>toroku</title>
</head>
<style>
    #top {
        /** web标题**/
        display: flex;
        justify-content: space-between;
        margin: 1%;
    }

    #top_1 {
        margin-left: 1%;
    }

    #text_title_mid {
        padding-top: 20px;
        font-weight: 300;
    }

    #top_img {
        padding: 10px;
    }

    /* 以上是web头部*/

    #all {
        /* 最大的div*/
        margin: 2%;
    }

    #time_user {
        /* 横向*/
        display: flex;
        flex: 1;
    }

    .ayida {
        margin-left: 10px;
        margin-right: 10px;
    }

    .time_left {}

    .user_right {
        display: flex;
        margin-left: auto;
        gap: 20px;
    }

    /* 以上是时间\user*/
    #big_title {
        width: auto;
        height: 30px;
        border-radius: 5px;
        padding-left: 10px;
        background-image: linear-gradient(gray, white, gray);
        align-items: baseline;
        display: flex;
        align-items: center;
        /* 垂直对齐*/
    }

    #blue_block {
        margin-right: 20px;
        width: 20px;
        height: 20px;
        border-radius: 5px;
        background-color: deepskyblue;
    }

    /* 以上是大标题*/

    .small_title {
        border-color: deepskyblue;
        border-bottom-style: solid;
        border-width: 1px;
        padding-bottom: 10px;
        margin-bottom: 0px;
        font-weight: 500;
    }

    .small_title_noline {
        padding-bottom: 10px;
        margin-bottom: 0px;
        font-weight: 500;
    }

    /* 以上是小标题*/

    .container {
        display: flex;
        align-items: baseline;
    }

    .left_column {
        display: flex;
        width: 150px;

    }

    .right_column {
        display: flex;
        align-items: baseline;
    }

    .right_input_text {
        width: 80px;
        margin-right: 50px;
    }

    .right_input_option {
        width: auto;
    }

    .right_p {
        margin-right: 30px;
    }

    /* 以上是左右盒子*/

    .kyuryokouza_text_red {
        color: red;
        font-size: small;
    }

    thead th {
        font-weight: 400;
    }

    table {
        border-collapse: collapse;
        /* 合并单元格边框 */
        width: 100%;
        border: 1px solid #000;
        /* 表格外框线 */
    }

    th,
    td {
        border: 1px solid #000;
        /* 单元格边框 */
        text-align: left;
    }

    th {
        background-color: gainsboro;
        /* 表头背景色 */
    }

    .table_button {
        margin-top: 10px;
        margin-bottom: 1px;
        float: right;
    }

    /* 以上是表格*/

    .keireki_input {
        height: 100%;
        width: 100%;
        box-sizing: border-box;
        border: none;
    }

    .gijizu_p {
        float: right;
        margin-right: 10px;
        font-size: small;
        margin-bottom: 0px;
    }

    .input_title {
        background-color: aqua;
        margin-bottom: 0;
        width: 300px;
    }

    /* 以上是履历情报*/

    .input_keireki {
        width: 80px;
        box-sizing: border-box;
        border: none;
        outline: none;
    }

    .td_keireki {
        width: 80px;
    }

    .td_select {
        width: 50px;
    }
</style>

<body>
    <div>
        <div id="top">
            <div id="top_1">
                <h3>株式会社xxxxx</h1>
                    <p>xxxxx</p>
            </div>
            <h1 id="text_title_mid">社内統合管理システム</h1>
            <img src="" id="top_img">
        </div>
    </div>
    <!-- 以上是web头部 -->
    <div id="all">
        <div>
            <div id="time_user">
                <p class="ayida time_left">日期 : {{user.big_time}}</p>
                <p class="ayida time_left">{{user.small_time}}</p>
                <div class=" user_right">
                    <p>ユーザー名: {{user.username}}</p>
                    <p>权限: {{user.userrole}}</p>
                    <p>社員管理画面</p>
                </div>

            </div>
        </div>
        <!-- 日期和user状态-->
        <div>
            <!--社员登録标题-->
            <div id="big_title">
                <span id="blue_block"></span>
                <h2>社員登録</h3>
            </div>
        </div>
        <!-- 大标题-->
        <div id="qihon" v-if="seepower.qihon =='1'">
            <h3 class="small_title">基本情报</h3>
            <!-- 小标题-->
            <div class="container"><!--社員コード-->
                <div class="left_column">
                    <p class="p_left">社員コード:</p>
                </div>
                <div class="right_column">
                    <div>
                        <input style="margin-left: 20px;" type="text" class="right_input_text"
                            v-model="toroku.syainnMain.employeecode" pattern="^[a-zA-Z0-9]*$" required maxlength="10">
                        <span v-if="!isCode&& this.toroku.syainnMain.employeecode !== ''">请输入大小写字母和数字</span>
                    </div>
                </div>
            </div>
            <div class="container"><!--社員名(漢字)-->
                <div class="left_column">
                    <p class="p_left">社員名(漢字)</p>
                </div>
                <div class="right_column">
                    <div>
                        <label>姓 </label><input type="text" name="kanji" class="right_input_text"
                            v-model="toroku.syainnMain.firstNameKanji" required maxlength="15">
                        <label>名 </label><input type="text" name="kamen" class="right_input_text"
                            v-model="toroku.syainnMain.lastNameKanji" required maxlength="15">
                    </div>
                    <div>
                        <p class="right_p">必须</p>
                    </div>
                </div>
            </div>
            <div class="container"><!--社員名(カタカナ)-->
                <div class="left_column">
                    <p class="p_left">社員名(カタカナ)</p>
                </div>
                <div class="right_column">
                    <div>
                        <label>ｾｲ </label><input type="text" name="kanji" class="right_input_text right_input_line"
                            v-model="toroku.syainnMain.firstNameKana" required maxlength="15">
                        <label>ﾒﾝ </label><input type="text" name="kamen" class="right_input_text right_input_line"
                            v-model="toroku.syainnMain.lastNameKana" required maxlength="15">
                    </div>
                    <p class="right_p">必须</p>
                </div>
            </div>
            <div class="container"><!--社員名(英語)-->
                <div class="left_column">
                    <p class="p_left">社員名(英語)</p>
                </div>
                <div class="right_column">
                    <div>
                        <label>first name </label><input type="text" name="kanji"
                            class="right_input_text right_input_line" v-model="toroku.syainnMain.firstNameEigo" required
                            maxlength="30">
                        <label>last name </label><input type="text" name="kamen"
                            class="right_input_text right_input_line" v-model="toroku.syainnMain.lastNameEigo" required
                            maxlength="30">
                    </div>
                </div>
            </div>
            <div class="container"><!--性别-->
                <div class="left_column">
                    <p class="p_left">性别</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="radio" style="width: auto; margin-right: 10px;" name="sex"
                            class="right_input_text right_input_line" value="1"
                            v-model="toroku.syainnMain.seibetu"><label class="right_p">男</label>
                        <input type="radio" style="width: auto; margin-right: 10px;" name="sex"
                            class="right_input_text right_input_line" value="0"
                            v-model="toroku.syainnMain.seibetu"><label class="right_p">女</label>
                    </div>

                </div>
            </div>
            <div class="container"><!--誕生日-->
                <div class="left_column">
                    <p class="p_left">誕生日</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="date" class="right_input_option" v-model="toroku.syainnMain.tanjyobi">
                    </div>
                </div>
            </div>
            <div class="container"><!--国籍-->
                <div class="left_column">
                    <p class="p_left">国籍</p>
                </div>
                <div class="right_column">
                    <div>
                        <form>
                            <select v-model="toroku.syainnMain.kokuseki">
                                <option v-for="(item,index)  in KokusekiTg" :value="index+1">{{item.value1}}</option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
            <div class="container"><!--出生地-->
                <div class="left_column">
                    <p class="p_left">出生地</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" name="kamen" style="width: auto;" class="right_input_text"
                            v-model="toroku.syainnMain.syussinn" maxlength="30">
                    </div>
                </div>
            </div>
            <div class="container"><!--配偶者有り無し-->
                <div class="left_column">
                    <p class="p_left">配偶者有り無し</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="radio" style="width: auto; margin-right: 10px;" name="have"
                            class="right_input_text right_input_line" value="1"
                            v-model="toroku.syainnMain.haigusya"><label class="right_p">有</label>
                        <input type="radio" style="width: auto; margin-right: 10px;" name="no"
                            class="right_input_text right_input_line" value="0"
                            v-model="toroku.syainnMain.haigusya"><label class="right_p">無</label>
                    </div>
                </div>
            </div>
        </div>
        <div id="goujin" v-if="seepower.goujin =='1'">
            <h3 class="small_title_noline">個人証明情報
            </h3>
            <div class="container"><!--パスポート番号-->
                <div class="left_column">
                    <p class="p_left">パスポート番号</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" name="passport=num" style="width: auto;" class="right_input_text"
                            v-model="toroku.syainnMain.passportNum" maxlength="20">
                    </div>
                </div>
            </div>
            <div class="container"><!--パスポート有効日-->
                <div class="left_column">
                    <p class="p_left">パスポート有効日</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="date" name="kamen" class="right_input_option"
                            v-model="toroku.syainnMain.passportEndDate">
                    </div>
                </div>
            </div>
            <div class="container"><!--ビザ-->
                <div class="left_column">
                    <p class="p_left">ビザ期間</p>
                </div>
                <div class="right_column">
                    <div>
                        <form action="">
                            <select style="width: 80px;" v-model="toroku.syainnMain.visaKikan">
                                <option v-for="(item,index) in visaKikanTg" :value="index+1">{{item.value1}}</option>
                            </select>
                        </form>
                    </div>
                    <p style="margin-left: 30px;">年</p>
                </div>
            </div>
            <div class="container"><!-- ビザ有効日-->
                <div class="left_column">
                    <p class="p_left">ビザ有効日</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="date" class="right_input_option" v-model="toroku.syainnMain.visaEndDate">
                    </div>
                </div>
            </div>
            <div class="container"><!--在留資格名称-->
                <div class="left_column">
                    <p class="p_left">在留資格名称</p>
                </div>
                <div class="right_column">
                    <div>
                        <form action="">
                            <select style="width: auto;" v-model="toroku.syainnMain.zairyuSikaku">
                                <option v-for="(item,index) in zairyusikakuTg" :value="index+1">{{item.value1}}</option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
            <div class="container"><!--マイナンバー-->
                <div class="left_column">
                    <p class="p_left">マイナンバー</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 300px;" class="right_input_text"
                            v-model="toroku.syainnMain.kojinNum" maxlength="20">
                    </div>
                </div>
            </div>
            <div class="container"><!--在留番号-->
                <div class="left_column">
                    <p class="p_left">在留番号</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 300px;" class="right_input_text"
                            v-model="toroku.syainnMain.zairyuNum" maxlength="20">
                    </div>
                </div>
            </div>
        </div>
        <div id="kaisya" v-if="seepower.kaisya =='1'">
            <h3 class="small_title">会社関連情報</h3>
            <div class="container"><!--所属会社-->
                <div class="left_column">
                    <p class="p_left">所属会社</p>
                </div>
                <div class="right_column">
                    <div>
                        <form action="">
                            <select style="width: auto;" v-model="toroku.syainnMain.syozokuKaisya">
                                <option v-for="(item,index) in syozokukaisyaTg" :value="index+1">{{item.value1}}
                                </option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
            <div class="container"><!--入社日 -->
                <div class="left_column">
                    <p class="p_left">入社日</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="date" class="right_input_option" v-model="toroku.syainnMain.nyuusyaDate">
                    </div>
                </div>
            </div>
            <div class="container"><!--退社日-->
                <div class="left_column">
                    <p class="p_left">退社日</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width:auto;;" class="right_input_text"
                            v-model="toroku.syainnMain.taisyaDate">
                    </div>
                    <p style="margin-left: -50px;">※YYYY-MM-DD</p>
                </div>
            </div>
            <div class="container"><!--職業種類-->
                <div class="left_column">
                    <p class="p_left">職業種類</p>
                </div>
                <div class="right_column">
                    <div>
                        <form action="">
                            <select style="width:auto;" v-model="toroku.syainnMain.syokugyoKind">
                                <option v-for="(item,index) in syokugyokindTg" :value="index+1">{{item.value1}}</option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
            <div class="container"><!--来日時間 -->
                <div class="left_column">
                    <p class="p_left">来日時間</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="date" class="right_input_option" v-model="toroku.syainnMain.rainitiDate">
                    </div>
                </div>
            </div>
            <div class="container" style="align-items: center;"><!--備考-->
                <div class="left_column">
                    <p class="p_left">備考</p>
                </div>
                <div class="right_column">
                    <div>
                        <!-- <input type="textarea" rows="9" style="width:400px; height: 50px;" class="right_input_text"> -->
                        <textarea rows="3" style="width: 500px;" v-model="toroku.syainnMain.bikou"
                            maxlength="255"></textarea>
                    </div>
                </div>
            </div>
        </div>
        <div id="kyoyu" v-if="seepower.kyoyu =='1'">
            <h3 class="small_title">給与関連情報</h3>
            <div id="kyuryo_div"> <!--給与振口座--><!--!!!!!!!!!!!!!!!!-->
                <p class="kyuryokouza_text_red" style="margin-bottom: 0px;">給与振口座</p>
                <table class="kyuryokouza_table kyuryokouza_text_red">
                    <!-- <caption class="kyuryokouza_text">給与振口座</caption> -->
                    <thead class="kyuryokouza_table table_title">
                        <th>金融機関コード</th>
                        <th>金融機関名</th>
                        <th>支店名コード</th>
                        <th>支店名</th>
                        <th>口座種類</th>
                        <th>口座種類</th>
                        <th>名義人</th>
                    </thead>
                    <tbody>
                        <tr>
                            <td>demo</td>
                            <td>demo</td>
                            <td>demo</td>
                            <td>demo</td>
                            <td>demo</td>
                            <td>demo</td>
                            <td>demo</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <button class="table_button" id="kyuyozuika" v-on:click="addkyuyorow()">新規行追加</button>
            <button class="table_button" id="kyuyosakujo" v-on:click="deletekyuyoRow()">最後行削除</button>
            <div id="kyuryo_div"> <!--給与履歴--><!--!!!!!!!!!!!!!!!!-->
                <p style="margin-bottom: 0px; font-size: small;">給与履歴</p>
                <table style="width: 100%;">
                    <thead class="kyuryokouza_table">
                        <th>適用開始年月</th>
                        <th>適用終了年月</th>
                        <th>基本給</th>
                        <th>職能給</th>
                        <th>雇用保険番号</th>
                        <th>年金番号</th>
                        <th>年金基準額</th>
                        <th>健康保険番号</th>
                        <th>備考</th>
                    </thead>
                    <tbody>
                        <tr v-for="(item,index) in toroku.syainKyuyo">
                            <td><input type="date" v-model="toroku.syainKyuyo[index].kaishiNengetsu"></td>
                            <td><input type="date" v-model="toroku.syainKyuyo[index].syuryoNengetsu"></td>
                            <td><input type="number" v-model="toroku.syainKyuyo[index].kihonkyu"></td>
                            <td><input type="number" v-model="toroku.syainKyuyo[index].syokunoukyu"></td>
                            <td><input type="text" v-model="toroku.syainKyuyo[index].koyouHokenNo" maxlength="30"></td>
                            <td><input type="text" v-model="toroku.syainKyuyo[index].nankinNo" maxlength="30"></td>
                            <td><input type="text" v-model="toroku.syainKyuyo[index].nankinKijyunGaku"></td>
                            <td><input type="number" v-model="toroku.syainKyuyo[index].kenkouHokenNo" maxlength="30">
                            </td>
                            <td><input type="text" v-model="toroku.syainKyuyo[index].bikou"></td>
                            <!-- oninput="this.value = this.value.replace(/^[^\x00-\xff]*$/, '')" -->
                        </tr>
                    </tbody>
                </table>
                <!-- <p>asdasddada:{{toroku.syainKyuyo}}</p> -->
            </div>
        </div>
        <div id="renraku" v-if="seepower.renraku =='1'">
            <h3 class="small_title">連絡先</h3>
            <div class="container"><!--住所-->
                <div class="left_column">
                    <p class="p_left">住所</p>
                </div>
                <div class="right_column">
                    <div>
                        <label>〒</label>
                        <input type="text" style="width: 100px;" class="right_input_text"
                            v-model="toroku.syainnMain.yuubin" maxlength="8">
                    </div>
                </div>
            </div>
            <div class="container"><!--住所1-->
                <div class="left_column">
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 300px;margin-right: 0;" class="right_input_text"
                            v-model="toroku.syainnMain.jyusyo1" maxlength="100">
                    </div>
                    <p>番地まで</p>
                </div>
            </div>
            <div class="container"><!--住所2-->
                <div class="left_column">
                    <span></span>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 300px; margin-top: 20px;margin-right: 0;"
                            class="right_input_text" v-model="toroku.syainnMain.jyusyo2" maxlength="100">
                    </div>
                    <p>マンション名・号室など</p>
                </div>
            </div>
            <div class="container"><!--最寄駅-->
                <div class="left_column">
                    <p class="p_left">最寄駅</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: auto;;" class="right_input_text"
                            v-model="toroku.syainnMain.moyoriEki" maxlength="30">
                    </div>
                </div>
            </div>
            <div class="container"><!--携帯電話-->
                <div class="left_column">
                    <p class="p_left">携帯電話</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: auto;;" class="right_input_text"
                            v-model="toroku.syainnMain.tel" maxlength="15">
                    </div>
                </div>
            </div>
            <div class="container"><!--メールアドレス-->
                <div class="left_column">
                    <p class="p_left">メールアドレス</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 300px;;" class="right_input_text"
                            v-model="toroku.syainnMain.email" required maxlength="15">
                    </div>
                </div>
            </div>
            <div class="container"><!--WechatID-->
                <div class="left_column">
                    <p class="p_left">WechatID</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: auto;;" class="right_input_text"
                            v-model="toroku.syainnMain.wechat" maxlength="50">
                    </div>
                </div>
            </div>
            <div class="container"><!--LineID-->
                <div class="left_column">
                    <p class="p_left">LineID</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: auto;;" class="right_input_text"
                            v-model="toroku.syainnMain.line" maxlength="50">
                    </div>
                </div>
            </div>
        </div>
        <div id="hahakuni" v-if="seepower.hahakuni =='1'">

            <h3 class="small_title">母国関連</h3>
            <div class="container"><!--住所-->
                <div class="left_column">
                    <p class="p_left">住所</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 400px;
                    height: 40px; margin-right: 0;" class="right_input_text" v-model="toroku.syainnMain.bokokuJyusyo"
                            maxlength="255">
                    </div>
                </div>
            </div>
            <div class="container"><!--緊急連絡先-->
                <div class="left_column">
                    <p class="p_left">緊急連絡先</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 400px;
                    height: 40px; margin-right: 0;" class="right_input_text"
                            v-model="toroku.syainnMain.bokokuKinnkyuuRennraku" maxlength="255">
                    </div>
                </div>
            </div>
        </div>
        <div id="kakureki" v-if="seepower.kakureki =='1'">
            <h3 class="small_title">学歴情報</h3>
            <div class="container"><!--最終学歴-->
                <div class="left_column">
                    <p class="p_left">最終学歴</p>
                </div>
                <div class="right_column">
                    <div>
                        <form action="">
                            <select style="width:auto;" v-model="toroku.syainnMain.saisyuuGakureki">
                                <option v-for="(item,index) in saisyuuGakurekiTg" :value="index+1">{{item.value1}}
                                </option>
                            </select>
                        </form>
                    </div>
                </div>
            </div>
            <div class="container"><!--学校名-->
                <div class="left_column">
                    <p class="p_left">学校名</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 250px;;" class="right_input_text"
                            v-model="toroku.syainnMain.gakkouName" maxlength="100">
                    </div>
                </div>
            </div>
            <div class="container"><!--専門-->
                <div class="left_column">
                    <p class="p_left">専門</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" style="width: 250px;;" class="right_input_text"
                            v-model="toroku.syainnMain.sennmomName" maxlength="100">
                    </div>
                </div>
            </div>
            <div class="container"><!--卒業年月日 -->
                <div class="left_column">
                    <p class="p_left">卒業年月日</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="date" class="right_input_option" v-model="toroku.syainnMain.sotugyoDate">
                    </div>
                </div>
            </div>
        </div>
        <div id="syokureiki" v-if="seepower.syokureiki =='1'">
            <h3 class="small_title">職歴情報</h3>
            <div class="container"><!--IT関連実務年数-->
                <div class="left_column">
                    <p class="p_left">IT関連実務年数</p>
                </div>
                <div class="right_column">
                    <div>
                        <input type="text" class="right_input_text" v-model="toroku.syainnMain.gyumuNensu"
                            style="margin-right: 0"><label>年</label>
                        <label style="margin-left: 50px; margin-right: 30px;">イニシャル名</label><input type="text"
                            class="right_input_text" v-model="toroku.syainnMain.initialName">
                    </div>
                </div>
            </div>
            <button class="table_button" id="keikekizuika" v-on:click="addrow">新規行追加</button>
            <button class="table_button" id="keikekisakujo" v-on:click="deleteRow()">最後行削除</button>
            <div id="kyuryo_div"> <!--入社年月日-->
                <table>
                    <thead class="kyuryokouza_table">
                        <th>入社年月日</th>
                        <th>退社年月日</th>
                        <th>会社名</th>
                        <th>部署</th>
                    </thead>
                    <tbody>
                        <tr v-for="(row,index) in toroku.syainItkeireki">
                            <td><input type="date" v-model="toroku.syainItkeireki[index].nyuusyaData"
                                    class="keireki_input">
                            </td>
                            <td><input type="date" class="keireki_input"
                                    v-model="toroku.syainItkeireki[index].taisyaDate">
                            </td>
                            <td><input type="text" class="keireki_input"
                                    v-model="toroku.syainItkeireki[index].keisyaName" maxlength="100">
                                <!-- oninput="this.value = this.value.replace(/[^\uFF00-\uFFFF\u4E00-\u9FFF]/g, '')" -->
                            </td>
                            <td><input type="text" class="keireki_input" v-model="toroku.syainItkeireki[index].haibi"
                                    maxlength="100">
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!-- <p>{{toroku.syainItkeireki}}</p> チェック-->
            </div>
        </div>
        <div id="Itkeken" v-if="seepower.Itkeken =='1'">
            <div style="margin-top: 30px;">
                <p class="gijizu_p">: 知識有り</p>
                <p class="gijizu_p" style="font-size: 30px; margin-top: 2px; margin-right: 0;">△</p>
                <p class="gijizu_p">: 実務経験有り</p>
                <p class="gijizu_p" style="font-size: 30px; margin-top: -2px; margin-right: 0;">○</p>
                <p class="gijizu_p">: 実務経験 1 年以上</p>
                <p class="gijizu_p" style="font-size: 30px; margin-top: 2px; margin-right: 0;">◎</p>
            </div>

            <h3 class="small_title">技術経験</h3><!--技術経験------------------------------>
            <!--收到一个数组，动态生成表格-->
            <!--每个格子的下拉框选项只有3个，value都是1.2.3-->
            <!--每个下拉框对应每一个格子 第一个格子的下拉框是1.(1,2,3) index+'-'+value-->

            <table><!--OS-->
                <thead>
                </thead>
                <tbody>
                    <tr v-for="(row, rowIndex) in Math.ceil(ITOStg.length / 5)" :key="rowIndex"><!-- //行的循环 -->
                        <td v-if="rowIndex === 0" rowspan="5" style="width: 100px;">OS</td>
                        <td v-for="(item, cellIndex) in 5" style="width: 100px;"><!-- //格子的循环 -->
                            {{ ITOStg[rowIndex * 5 + cellIndex]}}
                            <select v-if="ITOStg[rowIndex* 5+cellIndex]!=null"
                                v-model="ITOSpost[rowIndex * 5 + cellIndex]" style="width: 40px;float: right;">
                                <option v-for="(item,index) in levellist" :key="index"
                                    :value="(rowIndex*5+cellIndex+1)+'-'+item.value">{{item.name}}
                                </option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!-- <p>{{ITOSpost}}</p> チェック-->
            <br>
            <table><!--语言-->
                <thead>
                </thead>
                <tbody>
                    <tr v-for="(row, rowIndex) in Math.ceil(ITGENGOtg.length / 5)" :key="rowIndex"><!-- //行的循环 -->
                        <td v-if="rowIndex === 0" rowspan="5" style="width: 100px;">言語</td>
                        <td v-for="(item, cellIndex) in 5" style="width: 100px;"><!-- //格子的循环 -->
                            {{ ITGENGOtg[rowIndex * 5 + cellIndex]}}
                            <select v-if="ITGENGOtg[rowIndex* 5+cellIndex]!=null"
                                v-model="ITGENGOpost[rowIndex * 5 + cellIndex]" style="width: 40px;float: right;">
                                <option v-for="(item,index) in levellist" :key="index"
                                    :value="(rowIndex*5+cellIndex+1)+'-'+item.value">{{item.name}}
                                </option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <table><!--数据库-->
                <thead>
                </thead>
                <tbody>
                    <tr v-for="(row, rowIndex) in Math.ceil(ITDBtg.length / 5)" :key="rowIndex"><!-- //行的循环 -->
                        <td v-if="rowIndex === 0" rowspan="5" style="width: 100px;">DB</td>
                        <td v-for="(item, cellIndex) in 5" style="width: 100px;"><!-- //格子的循环 -->
                            {{ ITDBtg[rowIndex * 5 + cellIndex]}}
                            <select v-if="ITDBtg[rowIndex* 5+cellIndex]!=null"
                                v-model="ITDBpost[rowIndex * 5 + cellIndex]" style="width: 40px;float: right;">
                                <option v-for="(item,index) in levellist" :key="index"
                                    :value="(rowIndex*5+cellIndex+1)+'-'+item.value">{{item.name}}
                                </option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <table><!--服务器-->
                <thead>
                </thead>
                <tbody>
                    <tr v-for="(row, rowIndex) in Math.ceil(ITWEBtg.length / 5)" :key="rowIndex"><!-- //行的循环 -->
                        <td v-if="rowIndex === 0" rowspan="5" style="width: 100px;">WEBサーバ</td>
                        <td v-for="(item, cellIndex) in 5" style="width: 100px;"><!-- //格子的循环 -->
                            {{ ITWEBtg[rowIndex * 5 + cellIndex]}}
                            <select v-if="ITWEBtg[rowIndex* 5+cellIndex]!=null"
                                v-model="ITWEBpost[rowIndex * 5 + cellIndex]" style="width: 40px;float: right;">
                                <option v-for="(item,index) in levellist" :key="index"
                                    :value="(rowIndex*5+cellIndex+1)+'-'+item.value">{{item.name}}
                                </option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <table><!--框架-->
                <thead>
                </thead>
                <tbody>
                    <tr v-for="(row, rowIndex) in Math.ceil(ITFWtg.length / 5)" :key="rowIndex"><!-- //行的循环 -->
                        <td v-if="rowIndex === 0" rowspan="6" style="width: 100px;">FrameWork</td>
                        <td v-for="(item, cellIndex) in 5" style="width: 100px;"><!-- //格子的循环 -->
                            {{ ITFWtg[rowIndex * 5 + cellIndex]}}
                            <select v-if="ITFWtg[rowIndex* 5+cellIndex]!=null"
                                v-model="ITFWpost[rowIndex * 5 + cellIndex]" style="width: 40px;float: right;">
                                <option v-for="(item,index) in levellist" :key="index"
                                    :value="(rowIndex*5+cellIndex+1)+'-'+item.value">{{item.name}}
                                </option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>
            <table><!--其他-->
                <thead>
                </thead>
                <tbody>
                    <tr v-for="(row, rowIndex) in Math.ceil(ITOTHERtg.length / 5)" :key="rowIndex"><!-- //行的循环 -->
                        <td v-if="rowIndex === 0" rowspan="5" style="width: 100px;">その他</td>
                        <td v-for="(item, cellIndex) in 5" style="width: 100px;"><!-- //格子的循环 -->
                            {{ ITOTHERtg[rowIndex * 5 + cellIndex]}}
                            <select v-if="ITOTHERtg[rowIndex* 5+cellIndex]!=null"
                                v-model="ITOTHERpost[rowIndex * 5 + cellIndex]" style="width: 40px;float: right;">
                                <option v-for="(item,index) in levellist" :key="index"
                                    :value="(rowIndex*5+cellIndex+1)+'-'+item.value">{{item.name}}
                                </option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
            <br>


            <!--備考及び自己アピール-->
            <div>
                <p class="input_title">備考及び自己アピール</p>
                <textarea rows="7" style="width: 100%; overflow: auto;" v-model="toroku.syainnMain.itBikou"
                    maxlength="1024">
                </textarea>
            </div>
            <div><!--コメント-->
                <p class="input_title">コメント</p>
                <textarea rows="7" style="width: 100%; overflow: auto; " v-model="toroku.syainnMain.comment">
                </textarea>
            </div>
        </div>
        <div id="Itkeireki" v-if="seepower.Itkeireki =='1'">
            <h3 class="small_title">業務経歴</h3>
            <button class="table_button" id="zuika" v-on:click="addITtable()">新規情報追加</button>
            <button class="table_button" id="sakujo" v-on:click="deleteITtable()">該当情報削除</button>
            <div v-for="(item,indexbig) in toroku.syainKeireki">
                <table
                    style="table-layout: fixed; border-collapse: collapse; width: 100%; border: 1px solid black; text-align: center; margin: auto;">
                    <thead>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="td_keireki" colspan="3">開始年月</td>
                            <td class="td_keireki" colspan="3">
                                <input type="date" class="input_keireki"
                                    v-model="toroku.syainKeireki[indexbig].kaisibi">
                            </td>
                            <td class="td_keireki" colspan="3">終了年月</td>
                            <td class="td_keireki" colspan="3">
                                <input type="date" class="input_keireki"
                                    v-model="toroku.syainKeireki[indexbig].syuryobi">
                            </td>
                            <td class="td_keireki" colspan="3">PJ名</td>
                            <td style="width: 200px;" colspan="9">
                                <input type="text" class="input_keireki" style="width: 80%;"
                                    v-model="toroku.syainKeireki[indexbig].pjName" required maxlength="100">
                            </td>
                            <td class="td_keireki" colspan="3">对日</td>
                            <td class="td_select" colspan="2">
                                <select v-model="toroku.syainKeireki[indexbig].tainitiFlag">
                                    <option value="1">有</option>
                                    <option value="0">无</option>
                                </select>
                            </td>
                        </tr>
                        <!-- 第一行 -->
                        <tr>
                            <td class="td_keireki" colspan="3">開発場所
                            </td>
                            <td class="td_select" colspan="3">
                                <select v-model="toroku.syainKeireki[indexbig].basyo">
                                    <option :value="(index+1)" v-for="(item, index) in ITOStg">{{item}}</option>
                                </select>
                            </td>
                            <td class="td_keireki" colspan="3">規模人数</td>
                            <td colspan="3"><input type="text" class="input_keireki"
                                    v-model="toroku.syainKeireki[indexbig].kibo"></td>
                            <td class="td_keireki" colspan="3">開発業種</td>
                            <td class="td_select" colspan="3">
                                <select v-model="toroku.syainKeireki[indexbig].gyosyu">
                                    <option v-for="(item,index) in gyosyutg" :value="(index+1)">{{item}}</option>
                                </select>
                            </td>
                            <td class="td_keireki" colspan="3">開発環境</td>
                            <td class="td_select" colspan="3">
                                <select v-model="toroku.syainKeireki[indexbig].kaihatukankyo">
                                    <option v-for="(item,index) in ITOStg" :value="(index+1)">{{item}}</option>
                                </select>
                            </td>
                            <td class="td_keireki" colspan="3">運用環境</td>
                            <td class="td_select" colspan="2">
                                <select v-model="toroku.syainKeireki[indexbig].unyoukankyo">
                                    <option v-for="(item,index) in ITOStg" :value="(index+1)">{{item}}</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="td_keireki" colspan="3">言語</td>
                            <td colspan="6"><input type="text" class="input_keireki" style="width: 70%;"
                                    v-model="toroku.syainKeireki[indexbig].gengo"></td>
                            <td class="td_keireki" colspan="3">DB</td>
                            <td colspan="7"><input type="text" class="input_keireki" style="width: 70%;"
                                    v-model="toroku.syainKeireki[indexbig].db"></td>
                            <td class="td_keireki" style="font-size: smaller;" colspan="3">FW・IDE・ツール</td>
                            <td colspan="7"><input type="text" class="input_keireki" style="width: 70%;"
                                    v-model="toroku.syainKeireki[indexbig].tool"></td>
                        </tr>
                        <tr>
                            <td class="td_keireki" colspan="3">担当</td>
                            <td class="td_select td_keireki" colspan="3">
                                <select v-model="toroku.syainKeireki[indexbig].tantou">
                                    <option v-for="(item,index) in tantoutg" :value="(index+1)">{{item}}</option>
                                </select>
                            </td>
                            <td class="td_keireki" colspan="3">作業範囲</td>
                            <!-- <div v-for="item in sagyohanitg" style="display: inline; width: 20px;">
                            <td style="width: 20px;">{{item}}</td>
                            <td style="width: 40px;" v-for="(item,index) in sagyohanipost">
                                <select v-model="sagyohanipost[index]">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                        </div> -->

                            <td style="width: 20px;">要</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].a">
                                    <option :value="1">有</option>
                                    <option :value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">調</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].b">
                                    <option :value="1">有</option>
                                    <option :value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">基</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].c">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">詳</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].d">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">CD</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].e">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">単</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].f">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">結</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].g">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">総</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].h">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">構</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].i">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                            <td style="width: 20px;">保</td>
                            <td style="width: 40px;">
                                <select v-model="sagyohanipost[indexbig].j">
                                    <option value="1">有</option>
                                    <option value="0">無</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td class="td_keireki" colspan="3">開発概要</td>
                            <td colspan="26">
                                <textarea rows="3" class="input_keireki" style="width: 100%; "
                                    v-model="toroku.syainKeireki[indexbig].gaiyou" maxlength="1024"></textarea>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!-- <p>{{sagyohanipost[indexbig]}}</p>
                <p>{{sagyohanipost}}</p>
                <p>{{toroku.syainKeireki[indexbig]}}</p> チェック-->
                <br>
            </div>
        </div>

        <!-----------------業務経歴------------------------------>
        <h3 class=" small_title" style="margin-top: 30px;"></h3>
        <div class="container">
            <button id="doroku" style="margin: auto;" v-on:click="AddSyainMain()" v-if="user.power=='1'">登録</button>
        </div>
        <!-- <p>{{toroku.syainKeireki}}</p>
        <p>post:{{post}}</p>
        <p>{{toroku.syainItkeireki}}</p>
        <p>{{toroku.syainKyuyo}}</p> -->

    </div>
</body>
<script src="vue2.7.14.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    let Toptime = new Vue({
        el: '#all',
        data: {
            user: {
                big_time: '',
                small_time: '',
                username: '',
                userrole: '',
                userid: '',
                power: '1'
            },
            userlog: {
                userId: '',
                gamenId: '',
                startTime: '',
            },
            toroku: {
                syainnMain:
                { //社员主信息
                    employeecode: '',
                    syainId: '',
                    firstNameKanji: '',
                    lastNameKanji: '',
                    firstNameKana: '',
                    lastNameKana: '',
                    firstNameEigo: '',
                    lastNameEigo: '',
                    seibetu: 0,//int
                    tanjyobi: '',//time
                    kokuseki: '',
                    syussinn: '',
                    haigusya: '',
                    passportNum: '',
                    passportEndDate: '',
                    visaKikan: '',
                    visaEndDate: '',
                    zairyuSikaku: '',
                    kojinNum: '',
                    zairyuNum: '',
                    syozokuKaisya: '',
                    nyuusyaDate: '',
                    taisyaDate: '',
                    syokugyoKind: '',
                    rainitiDate: '',
                    bikou: '',
                    yuubin: '',
                    jyusyo1: '',
                    jyusyo2: '',
                    moyoriEki: '',
                    tel: '',
                    email: '',
                    wechat: '',
                    line: '',
                    bokokuJyusyo: '',
                    bokokuKinnkyuuRennraku: '',
                    saisyuuGakureki: '',
                    gakkouName: '',
                    sennmomName: '',
                    sotugyoDate: '',
                    gyumuNensu: '',
                    initialName: '',
                    itOs: '',
                    itGengo: '',
                    itDb: '',
                    itWebServer: '',
                    itFw: '',
                    itOther: '',
                    itBikou: '',
                    imployeecode: '',
                    iomment: '',
                    ieleteFlag: '',
                    iourokubi: '',
                    iousinnbi: '',
                    deleteFlag: 0,
                },
                syainKeireki: [{ //经历
                    syainId: '',
                    kaisibi: '',
                    syuryobi: '',
                    pjName: '',
                    tainitiFlag: '',
                    basyo: '',
                    kibo: '',
                    gyosyu: '',
                    kaihatukankyo: '',
                    unyoukankyo: '',
                    gengo: '',
                    db: '',
                    tool: '',
                    tantou: '',
                    sagyohani: '',
                    gaiyou: '',
                    tourokubi: '',
                    kousinnbi: '',
                }],
                syainItkeireki: [{　//iT经历
                    syainId: '',
                    nyuusyaData: '',
                    taisyaDate: '',
                    keisyaName: '',
                    haibi: '',
                }],
                syainKyuyo: [{//工资
                    syainId: '',
                    kaishiNengetsu: '',
                    syuryoNengetsu: '',
                    kihonkyu: '',
                    syokunoukyu: '',
                    koyouHokenNo: '',
                    nankinNo: '',
                    nankinKijyunGaku: '',
                    kenkouHokenNo: '',
                    bikou: '',
                    tourokubi: '',
                    kousinnbi: '',
                }]
            },
            KokusekiTg: [],
            visaKikanTg: [],
            zairyusikakuTg: [],
            syozokukaisyaTg: [],
            syokugyokindTg: [],
            saisyuuGakurekiTg: [],
            levellist: [
                { name: '△', value: '3' },
                { name: '○', value: '2' },
                { name: '◎', value: '1' }],
            ITOStg: [],
            ITGENGOtg: [],
            ITDBtg: [],
            ITWEBtg: [],
            ITFWtg: [],
            ITOTHERtg: [],

            basyotg: [],
            gyosyutg: [],
            kaihatukankyotg: [],
            unyoukankyotg: [],
            tantoutg: [],

            //--------------获得的需要组合的数据
            ITOSpost: [],
            ITGENGOpost: [],
            ITDBpost: [],
            ITWEBpost: [],
            ITFWpost: [],
            ITOTHERpost: [],
            sagyohanipost: [{
                a: '0',
                b: '0',
                c: '0',
                d: '0',
                e: '0',
                f: '0',
                g: '0',
                h: '0',
                i: '0',
                j: '0',
            }],
            syainKeirekiall: [],
            post: '',
            seepower: {
                qihon: '1',
                goujin: '1',
                kaisya: '1',
                kyoyu: '1',
                renraku: '1',
                hahakuni: '1',
                kakureki: '1',
                syokureiki: '1',
                Itkeken: '1',
                Itkeireki: '1',
            },
            writepower: {
                qihon: '1',
                goujin: '1',
                kaisya: '1',
                kyoyu: '1',
                renraku: '1',
                hahakuni: '1',
                kyokakurekiyu: '1',
                syokureiki: '1',
                Itkeken: '1',
                Itkeireki: '1',
            },
        },
        created() {
            //this.checkUser();
            this.timer = setInterval(() => {
                this.getTime();
            }, 1000);
            this.checkpower();
            this.getKokuseki();
            this.getvisaKikan();
            this.getzairyusikaku();
            this.getsyozokukaisya();
            this.getsyokugyokindTg();
            this.getsaisyuuGakurekiTg();
            this.getItostg();
            this.getITGENGOtg();
            this.getITWEBtg();
            this.getITDBtg();
            this.getITFWtg();
            this.getITOTHERtg();
            this.getgyosyutg();
            this.gettantoutg();
        },
        methods: {
            //1.查询时间和登录的用户、用户日志
            async postuserlog() {
                this.userlog.userId = this.user.userid,
                    this.userlog.gamenId = 'toroku';
                this.userlog.startTime = new Date().toISOString();
                try {
                    const response = await axios.post('/user', userlog);
                    console.log(response.data.msg);
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },


            checkUser: function () {
                if (sessionStorage.getItem("userrole") != null && sessionStorage.getItem("username") != null
                ) {
                    this.user.userrole = sessionStorage.getItem("userrole");
                    this.user.username = sessionStorage.getItem("username");
                } else {
                    window.location.href = 'login.html';
                    console.log("无用户信息")
                }


            },
            getTime: function () {
                let currentDate = new Date();
                let year = currentDate.getFullYear(); // 获取年份
                let month = currentDate.getMonth() + 1; // 获取月份，+1是因为getMonth()返回的月份是从0开始的
                let day = currentDate.getDate(); // 获取日
                this.user.big_time = year + '年' + month + '月' + day + '日';
                let hours = currentDate.getHours(); // 获取小时
                let minutes = currentDate.getMinutes(); // 获取分钟
                let seconds = currentDate.getSeconds(); // 获取秒
                this.user.small_time = hours + '时' + minutes + '分' + seconds + '秒'
            },
            
            async getKokuseki() {
                try {
                    const response = await axios.get('/Tgsetting', {
                        params: {
                            category1: 3,
                            category2: 1
                        }
                    });
                    this.KokusekiTg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //ビザ期間
            async getvisaKikan() {
                try {
                    const response = await axios.get('/Tgsetting', {
                        params: {
                            category1: 3,
                            category2: 2
                        }
                    });
                    this.visaKikanTg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //再留资格名称
            async getzairyusikaku() {
                try {
                    const response = await axios.get('/Tgsetting', {
                        params: {
                            category1: 3,
                            category2: 3
                        }
                    });
                    this.zairyusikakuTg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //所属会社
            async getsyozokukaisya() {
                try {
                    const response = await axios.get('/Tgsetting', {
                        params: {
                            category1: 1,
                            category3: 1
                        }
                    });
                    this.syozokukaisyaTg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //职业类型
            async getsyokugyokindTg() {
                try {
                    const response = await axios.get('/Tgsetting', {
                        params: {
                            category1: 3,
                            category2: 4
                        }
                    });
                    this.syokugyokindTg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //最总学历
            async getsaisyuuGakurekiTg() {
                try {
                    const response = await axios.get('/Tgsetting', {
                        params: {
                            category1: 3,
                            category2: 5
                        }
                    });
                    this.saisyuuGakurekiTg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //ITOS处理
            async getItostg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 6,
                        }
                    });
                    this.ITOStg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //IT语言处理
            async getITGENGOtg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 7,
                        }
                    });
                    this.ITGENGOtg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //IT数据库处理
            async getITDBtg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 8,
                        }
                    });
                    this.ITDBtg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //ITweb服务器处理
            async getITWEBtg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 9,
                        }
                    });
                    this.ITWEBtg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //IT框架处理
            async getITFWtg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 10,
                        }
                    });
                    this.ITFWtg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //IT其他
            async getITOTHERtg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 11,
                        }
                    });
                    this.ITOTHERtg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //TG经历请求
            async getgyosyutg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 12,
                        }
                    });
                    this.gyosyutg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            async gettantoutg() {
                try {
                    const response = await axios.get('/Tgsetting/IT', {
                        params: {
                            category1: 3,
                            category2: 13,
                        }
                    });
                    this.tantoutg = response.data.data;
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //-------------------------------------------------------------------
            copyIT(items) {
                post = '';
                for (let i = 0; i < items.length; i++) {
                    if (items[i] != null) {
                        if (i < (items.length - 1)) {
                            post += items[i] + ',';
                        }
                        else {
                            post += items[i];
                        }
                    }

                }
                return post;
            },
            copyKeireki(items) {
                console.log('接受的' + JSON.stringify(items));
                let post = '';
                console.log('空');
                let obj = items;
                let values = Object.values(obj)
                for (let i = 0; i < values.length; i++) {
                    console.log('内');
                    post += values[i];
                }
                return post;
            },
            


            sumItos() {
                if (this.syainnMain.ItOs == '') {
                    for (i = 0; i < this.ITOSpost.length; i++) {
                        this.syainnMain.ItOs += this.ITOSpost[i];
                        if (i < this.this.ITOSpost.length - 1) {
                            this.syainnMain.ItOs += ',';
                        }
                    }
                } else {
                    this.syainnMain.ItOs = '';
                    for (i = 0; i < this.ITOSpost.length; i++) {
                        this.syainnMain.ItOs += this.ITOSpost[i];
                        if (i < this.this.ITOSpost.length - 1) {
                            this.syainnMain.ItOs += ',';
                        }
                    }
                }

            },
            //3.动态增加表格
            addrow() {

                this.toroku.syainItkeireki.push({
                    nyuusyaData: '',
                    taisyaDate: '',
                    keisyaName: '',
                    haibi: '',
                })
            },
            deleteRow(index) {
                if (this.toroku.syainItkeireki.length > 1) {
                    this.toroku.syainItkeireki.pop();
                }
            },
            addITtable() {

                this.toroku.syainKeireki.push({
                    kaisibi: '',
                    syuryobi: '',
                    pjName: '',
                    tainitiFlag: '',
                    basyo: '',
                    kibo: '',
                    gyosyu: '',
                    kaihatukankyo: '',
                    unyoukankyo: '',
                    gengo: '',
                    db: '',
                    tool: '',
                    tantou: '',
                    sagyohani: '',
                    gaiyou: '',
                    tourokubi: '',
                    kousinnbi: '',
                })
                this.sagyohanipost.push({
                    a: '0',
                    b: '0',
                    c: '0',
                    d: '0',
                    e: '0',
                    f: '0',
                    g: '0',
                    h: '0',
                    i: '0',
                    j: '0',
                });
            },
            deleteITtable(index) {
                if (this.toroku.syainKeireki.length > 1) {
                    this.toroku.syainKeireki.pop();
                }
            },
            addkyuyorow() {

                this.toroku.syainKyuyo.push({
                    kaishiNengetsu: '',
                    syuryoNengetsu: '',
                    kihonkyu: '',
                    syokunoukyu: '',
                    koyouHokenNo: '',
                    nankinNo: '',
                    nankinKijyunGaku: '',
                    kenkouHokenNo: '',
                    bikou: '',
                    tourokubi: '',
                    kousinnbi: '',
                })
            },
            deletekyuyoRow(index) {
                if (this.toroku.syainKyuyo.length > 1) {
                    this.toroku.syainKyuyo.pop();
                }
            },
            //4.发送表单信息.
            async AddSyainMain() {

                this.toroku.syainnMain.itos = this.copyIT(this.ITOSpost);
                this.toroku.syainnMain.itGengo = this.copyIT(this.ITGENGOpost);
                this.toroku.syainnMain.itDb = this.copyIT(this.ITDBpost);
                this.toroku.syainnMain.itWebServer = this.copyIT(this.ITWEBpost);
                this.toroku.syainnMain.itFw = this.copyIT(this.ITFWpost);
                this.toroku.syainnMain.itOther = this.copyIT(this.ITOTHERpost);
                try {
                    const response = await axios.post('/Syain', this.toroku.syainnMain);
                    response.data.data.syainId;
                    console.log(response.data.data.syainId)

                    this.AddSyainKerreki(response.data.data.syainId);
                    this.AddSyainITKerreki(response.data.data.syainId);
                    this.AddsyainKyuyo(response.data.data.syainId);
                } catch (error) {
                    this.error = 'Failed to fetch data' + error.msg;
                    console.error('Error fetching data:', error);
                }


            },
            async AddSyainKerreki(id) {
                for (let i = 0; i < this.toroku.syainKeireki.length; i++) {
                    this.toroku.syainKeireki[i].sagyohani = this.copyKeireki(this.sagyohanipost[i]);
                    this.toroku.syainKeireki[i].syainId = id;
                }
                try {
                    const response = await axios.post('/Keireki', this.toroku.syainKeireki);
                    console.log(response.data.msg);

                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            async AddSyainITKerreki(id) {
                for (let i = 0; i < this.toroku.syainItkeireki.length; i++) {
                    this.toroku.syainItkeireki[i].syainId = id;
                }
                try {
                    const response = await axios.post('/ITKeireki', this.toroku.syainItkeireki);
                    console.log(response.data.msg);
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            async AddsyainKyuyo(id) {
                for (let i = 0; i < this.toroku.syainKyuyo.length; i++) {
                    this.toroku.syainKyuyo[i].syainId = id;
                }
                try {
                    const response = await axios.post('/Kyuyo', this.toroku.syainKyuyo);

                    console.log(response.data.msg);
                } catch (error) {
                    this.error = 'Failed to fetch data';
                    console.error('Error fetching data:', error);
                }
            },
            //检查权限
            checkpower() {
                if (this.user.userrole == 'B') {
                    this.seepower.qihon = '1';
                    this.seepower.goujin = '0';
                    this.seepower.kaisya = '1';
                    this.seepower.kyoyu = '0';
                    this.seepower.renraku = '1';
                    this.seepower.hahakuni = '0';
                    this.seepower.kakureki = '1';
                    this.seepower.syokureiki = '1';
                    this.seepower.Itkeken = '1';
                    this.seepower.Itkeireki = '1';

                    this.writepower.qihon = '0';
                    this.writepower.goujin = '1';
                    this.writepower.kaisya = '0';
                    this.writepower.kyoyu = '1';
                    this.writepower.renraku = '0';
                    this.writepower.hahakuni = '1';
                    this.writepower.kakureki = '0';
                    this.writepower.syokureiki = '1';
                    this.writepower.Itkeken = '1';
                    this.writepower.Itkeireki = '1';

                    const qihon = document.getElementById('qihon');
                    const goujin = document.getElementById('goujin');
                    const kaisya = document.getElementById('kaisya');
                    const kyoyu = document.getElementById('kyoyu');
                    const renraku = document.getElementById('renraku');
                    const hahakuni = document.getElementById('hahakuni');
                    const kakureki = document.getElementById('kakureki');
                    qihon.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    kaisya.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    renraku.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    kakureki.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    goujin.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    kyokakurekiyu.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    hahakuni.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                } else if (this.user.userrole == 'C') {
                    this.seepower.qihon = '1';
                    this.seepower.goujin = '0';
                    this.seepower.kaisya = '1';
                    this.seepower.kyoyu = '0';
                    this.seepower.renraku = '0';
                    this.seepower.hahakuni = '0';
                    this.seepower.kakureki = '0';
                    this.seepower.syokureiki = '0';
                    this.seepower.Itkeken = '0';
                    this.seepower.Itkeireki = '0';

                    this.user.power = '0';

        
                    const qihon = document.getElementById('qihon');
                    const kaisya = document.getElementById('kaisya');
                    const goujin = document.getElementById('goujin');
                    const kyoyu = document.getElementById('kyoyu');
                    const renraku = document.getElementById('renraku');
                    const hahakuni = document.getElementById('hahakuni');
                    const kakureki = document.getElementById('kakureki');
                    const syokureiki = document.getElementById('syokureiki');
                    const Itkeken = document.getElementById('Itkeken');
                    const Itkeireki = document.getElementById('Itkeireki');
                    qihon.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    kaisya.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    goujin.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    kaisya.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    renraku.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    hahakuni.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    kakureki.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    syokureiki.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    Itkeken.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    Itkeireki.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                } else if (this.user.userrole == 'D') {
                    this.seepower.qihon = '1';
                    this.seepower.goujin = '1';
                    this.seepower.kaisya = '1';
                    this.seepower.kyoyu = '0';
                    this.seepower.renraku = '1';
                    this.seepower.hahakuni = '1';
                    this.seepower.kakureki = '1';
                    this.seepower.syokureiki = '1';
                    this.seepower.Itkeken = '1';
                    this.seepower.Itkeireki = '1';

                    this.user.power = '0';

                    // this.writepower.qihon = '0';
                    // this.writepower.goujin = '0';
                    // this.writepower.kaisya = '0';
                    // this.writepower.kyoyu = '0';
                    // this.writepower.renraku = '0';
                    // this.writepower.hahakuni = '0';
                    // this.writepower.kyokakurekiyu = '0';
                    // this.writepower.syokureiki = '0';
                    // this.writepower.Itkeken = '0';
                    // this.writepower.Itkeireki = '0';
                    const kyoyu = document.getElementById('kyoyu');
                    const Itkeken = document.getElementById('qihon');
                    const Itkeireki = document.getElementById('kaisya');
                    kyoyu.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    Itkeken.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                    Itkeireki.querySelectorAll('input, textarea, select').forEach((element) => {
                        element.disabled = true;
                    });
                }
                // // 获取包含表单的 div 元素
                // const divElement = document.getElementById('myDiv');

                // // 查找 div 元素中的所有表单元素
                // const formElements = divElement.querySelectorAll('input, textarea, select');

                // // 禁用每个找到的表单元素
                // formElements.forEach((element) => {
                //     element.disabled = true;
                // });

            },
            checkZhengze() {
                if (this.isCode == false) {
                    alert('社員コード' + '输入的字符错误')
                    return false;
                } else if (this.isKanjifrist == false) {
                    alert('社員名(漢字)' + '输入的字符错误')
                    return false;
                }
                else if (this.isKanjilast == false) {
                    alert('社員名(漢字)' + '输入的字符错误')
                    return false;
                }
                else if (this.iskatakanafrist == false) {
                    alert('社員名(カタカナ)' + '输入的字符错误')
                    return false;
                }
                else if (this.iskatakanalast == false) {
                    alert('社員名(カタカナ)' + '输入的字符错误')
                    return false;
                }
                else if (this.isenglishfrist == false) {
                    alert('社員名(英語)' + '输入的字符错误')
                    return false;
                }
                else if (this.isenglishlast == false) {
                    alert('社員名(英語)' + '输入的字符错误')
                    return false;
                }
                else if (this.ispassport == false) {
                    alert('パスポート番号' + '输入的字符错误')
                    return false;
                }
                else if (this.ismynumber == false) {
                    alert('マイナンバー' + '输入的字符错误')
                    return false;
                }
                else if (this.iszairyu == false) {
                    alert('在留番号' + '输入的字符错误')
                    return false;
                }
                else if (this.isyuubin == false) {
                    alert('住所' + '输入的字符错误')
                    return false;
                }
                else if (this.iseiki == false) {
                    alert('最寄駅' + '输入的字符错误')
                    return false;
                }
                else if (this.iskeitai == false) {
                    alert('携帯電話' + '输入的字符错误')
                    return false;
                }
                else if (this.isemail == false) {
                    alert('メールアドレス' + '输入的字符错误')
                    return false;
                }
                else if (this.iskako == false) {
                    alert('学校名' + '输入的字符错误')
                    return false;
                }
                else if (this.issenmon == false) {
                    alert('専門' + '输入的字符错误')
                    return false;
                }
                else if (this.iskaisya == false) {
                    alert('会社名' + '输入的字符错误')
                    return false;
                }
                else if (this.ishaibi == false) {
                    alert('部署' + '输入的字符错误')
                    return false;
                }
                else if (this.iskouyuhouken == false) {
                    alert('雇用保険番号' + '输入的字符错误')
                    return false;
                }
                else if (this.isrenkin == false) {
                    alert('年金番号' + '输入的字符错误')
                    return false;
                }
                else if (this.iskenkou == false) {
                    alert('健康保険番号' + '输入的字符错误')
                    return false;
                } else {
                    return true;
                }
            }

        },
        computed: {
            isCode() {
                const emailRegex = /^[a-zA-Z0-9]+$/;
                return emailRegex.test(this.toroku.syainnMain.employeecode);
            },
            isKanjifrist() {
                const emailRegex = /^[\x00-\xff]+$/;
                return emailRegex.test(this.toroku.syainnMain.firstNameKanji);
            },
            isKanjilast() {
                const emailRegex = /^[\x00-\xff]+$/;
                return emailRegex.test(this.toroku.syainnMain.lastNameKanji);
            },
            iskatakanafrist() {
                const emailRegex = /^[\x00-\xff]+$/;
                return emailRegex.test(this.toroku.syainnMain.firstNameKana);
            },
            iskatakanalast() {
                const emailRegex = /^[\x00-\xff]+$/;
                return emailRegex.test(this.toroku.syainnMain.lastNameKana);
            },
            isenglishfrist() {
                const emailRegex = /^[a-zA-Z]+$/;
                return emailRegex.test(this.toroku.syainnMain.firstNameEigo);
            },
            isenglishlast() {
                const emailRegex = /^[a-zA-Z]+$/;
                return emailRegex.test(this.toroku.syainnMain.lastNameEigo);
            },
            ispassport() {
                const emailRegex = /^[A-Z0-9]+$/;
                return emailRegex.test(this.toroku.syainnMain.passportNum);
            },
            ismynumber() {
                const emailRegex = /^[A-Z0-9]+$/;
                return emailRegex.test(this.toroku.syainnMain.kojinNum);
            },
            iszairyu() {
                const emailRegex = /^[A-Z0-9]+$/;
                return emailRegex.test(this.toroku.syainnMain.zairyuNum);
            },
            isyuubin() {
                const emailRegex = /^[0-9]{3}-[0-9]{4}/;
                return emailRegex.test(this.toroku.syainnMain.yuubin);
            },
            iseiki() {
                const emailRegex = /^[\x00-\xff]+$/;
                return emailRegex.test(this.toroku.syainnMain.moyoriEki);
            },

            iskeitai() {
                const emailRegex = /^0\d{1,4}-\d{1,4}-\d{4}$/;
                return emailRegex.test(this.toroku.syainnMain.tel);
            },
            isemail() {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(this.toroku.syainnMain.rmail);
            },
            iskako() {
                const emailRegex = /^[\x00-\xff]+$/;
                return emailRegex.test(this.toroku.syainnMain.gakkouName);
            },
            issenmon() {
                const emailRegex = /^[\x00-\xff]+$/;
                return emailRegex.test(this.toroku.syainnMain.sennmomName);
            },
            iskaisya() {
                const emailRegex = /^[\x00-\xff]+$/;
                this.toroku.syainItkeireki.forEach(item => {
                    if (emailRegex.text(item.keisyaName) == true) {
                        return true;
                    }
                    return false;
                })
                //return emailRegex.test(toroku.syainItkeireki.taisyaDate);
            },
            ishaibi() {
                const emailRegex = /^[\x00-\xff]+$/;
                this.toroku.syainItkeireki.forEach(item => {
                    if (emailRegex.text(item.haibi) == true) {
                        return true;
                    }
                    return false;
                })
                //return emailRegex.test(this.toroku.syainnMain.lastNameKana);
            },
            iskouyuhouken() {
                const emailRegex = /^[A-Z0-9]$]/;
                this.toroku.syainKyuyo.forEach(item => {
                    if (emailRegex.text(item.koyouHokenNo) == true) {
                        return true;
                    }
                    return false;
                })
                //return emailRegex.test(this.toroku.syainnMain.koyouHokenNo);
            },
            isrenkin() {
                const emailRegex = /^[A-Z0-9]$]/;
                this.toroku.syainKyuyo.forEach(item => {
                    if (emailRegex.text(item.nankinNo) == true) {
                        return true;
                    }
                    return false;
                })
                //return emailRegex.test(this.toroku.syainnMain.nankinNo);
            },
            iskenkou() {
                const emailRegex = /^[A-Z0-9]$]/;
                this.toroku.syainKyuyo.forEach(item => {
                    if (emailRegex.text(item.kenkouHokenNo) == true) {
                        return true;
                    }
                    return false;
                })
                //return emailRegex.test(this.toroku.syainnMain.kenkouHokenNo);
            },
        }
    });
</script>

</html>